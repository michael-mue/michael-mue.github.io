---
import LinkButton from './LinkButton.astro';

const {
  authors,
  title,
  titleUrl,
  venue,
  venueUrl,
  date,
  pdf,
  cite,
  link,
  children
} = Astro.props;
---

<div class="publication-card" style="margin-bottom: 20px; padding: 15px; border: 1px solid rgba(var(--color-border), 1); border-radius: 5px; background-color: rgba(var(--color-card), 1);">
  <p style="margin: 0 0 10px 0; font-size: 1em;">
    <span style="color: rgba(var(--color-card-muted), 1);">{authors}</span>
    {date && (
      <span style="color: rgba(var(--color-card-muted), 1);"> ({date}). </span>
    )}
    {titleUrl ? (
      <strong>
        <a href={titleUrl} style="color: inherit; text-decoration: none; font-weight: bold;">
          {title}
        </a>
      </strong>
    ) : (
      <strong>{title}</strong>
    )}
    {venue && (
      <>
        .{' '}
        {venueUrl ? (
          <span>
            <a href={venueUrl} style="color: inherit; text-decoration: underline dotted;">
              {venue}
            </a>
            .
          </span>
        ) : (
          <span>{venue}.</span>
        )}
      </>
    )}
  </p>
  <div style="margin: 10px 0; display: flex; gap: 8px;">
    {pdf && (
      <LinkButton
        href={pdf}
        className="flex items-center gap-1 p-2"
        ariaLabel="PDF of publication"
        target="_blank"
        rel="noopener"
        title="View PDF"
      >
        <span aria-hidden="true">ðŸ“„</span>
        <span>PDF</span>
      </LinkButton>
    )}
    {cite && (
      <LinkButton
        href={cite}
        className="flex items-center gap-1 p-2"
        ariaLabel="Citation information"
        target="_blank"
        rel="noopener"
        title="View citation"
      >
        <span aria-hidden="true">ðŸ“‘</span>
        <span>Cite</span>
      </LinkButton>
    )}
    {link && (
      <LinkButton
        href={link}
        className="flex items-center gap-1 p-2"
        ariaLabel="External publication link"
        target="_blank"
        rel="noopener"
        title="Visit publication page"
      >
        <span aria-hidden="true">ðŸ”—</span>
        <span>Link</span>
      </LinkButton>
    )}
  </div>
  {children && (
    <div style="margin: 10px 0; padding-left: 20px;">
      {children}
    </div>
  )}
</div>
